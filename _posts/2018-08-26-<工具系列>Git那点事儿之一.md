
--写在前面：

  一直忙得飞起，偶尔闲下来便也是各种偷懒。今日突然心血来潮，想搞点事情，哈哈哈。自打成为社会人以来，接触Git也四年有余了吧，说它是工作必备工具真的是毫不夸张。计划以2-3篇内容，记录下自己掌握得Git基础知识，就叫Git那点事儿吧。

#### 1.1 Git的安装

下面以Ubuntu系统为例:
```Ubuntu
# 需先加入git软件源，再执行install操作
$ sudo add-apt-repository ppa:git-core/ppa
$ sudo apt update
$ sudo apt-get install git
```
Windows和OS X用户可直接从官网获取git安装包安装：
```
# Windows版下载地址：
https://www.git-scm.com/download/win

# OS X版下载地址：
https://www.git-scm.com/download/mac
```

#### 1.2 Git的配置

1.用户名和邮箱

安装完Git第一步即需设置用户名和邮箱，因为每次git提交都需要包含这些信息，且不可更改。为减少每次提交都设置用户名/邮箱带来的麻烦,建议添加`--global`选项，即:

```
$ git config --global user.name "alex"
$ git config --global user.email "alex@gmail.com"
```

2.默认文本编辑器

Git默认会是使用系统默认的文本编辑器，若你有自己喜好的编辑器，推荐使用以下命令将其设为git默认编辑器。比如你可以设置为`emacs`,`sublime`,`atom`等等，下面以`vim`为例：

```
$ git config --global core.editor vim
```

3.Git指令别名

为方便个人使用，支持通过`alias`来设置git别名，比如：

```
# 将 git checkout 设置为 git co
$ git config --global alias.co checkout

# 将 git branch 设置为 git br
$ git config --global alias.br branch

# 将git commit 设置为 git ci
$ git config --global alias.ci commit

# 将 git status 设置为 git st
$ git config --global alias.st status

# 将 git reset HEAD -- 设置为 git unstage
$ git config --global alias.unstage 'reset HEAD --'

# 将 git log -l HEAD 设置为 git last
$ git config --global alias.last 'log -l HEAD'

...
```

4.检查Git配置

可以通过`git config --list`列出当前的配置项：

```
$ git config --list
user.name=alex
user.email=alex@gmail.com
color.status=auto
color.branch=auto
color.diff=auto
```

## 1.3 Git基础

1.初始化Git仓库

如想对文件目录进行跟踪管理，可进入该目录使用`init`指令初始化，操作完成后当前目录会生成`.git`目录：
```
$ git init
Initialized empty Git repository in git_learn/.git/
```

2.克隆Git仓库

若想获取现有仓库的副本，可通过`clone`指令，将其从服务器端复制到客户端：
```
$ git clone https://github.com/git_learn.git
```

3.查看Git仓库当前文件状态

可使用`status`指令查看当前目录是否有改动。若只需查看简洁的状态信息，可添加`-s`,`--short`选项：

```
$ git status
On branch master
No commits yet
nothing to commit (create/copy files and use "git add" to track)
$ git status -s
$ git status --short
```

4.跟踪新文件

可使用`add`指令将新的文件添加到暂存区加以跟踪：

```
$ git status
On branch master
No commits yet
Untracked files:
  (use "git add <file>..." to include in what will be committed)
	README.md

$ git add README.md

$ git status
On branch master
No commits yet
Changes to be committed:
  (use "git rm --cached <file>..." to unstage)
	new file:   README.md
```

借用`git status`可以很明显的看到，README.md文件从执行`add`指令之前的Untracked files...变为Chnages to be committed...

5.移除文件

若想从git仓库中移除某个文件，需用`rm`指令将其从以已跟踪文件列表中移除，再提交即可：

```
$ git rm README.md
On branch master
No commits yet
Changes to be committed:
  (use "git rm --cached <file>..." to unstage)
	new file:   README.md
Changes not staged for commit:
  (use "git add/rm <file>..." to update what will be committed)
  (use "git checkout -- <file>..." to discard changes in working directory)
	deleted:    README.md
```

6.移动文件

有时候你可能需要将某个文件重命名或更换目录，那`mv`指令可以帮你完成：

```
$ git mv README.md README
$ git status
On branch master
Changes to be committed:
  (use "git reset HEAD <file>..." to unstage)
	renamed:    README.md -> README
```

你可以近视将`mv`操作视作，执行了下面3条指令：

```
$ mv README.md README
$ git rm README.mg
$ git add README
```

7.提交文件

执行完`add`只是将文件变更保存到了暂存区，若需上库，还需执行`commit`操作，将其加入提交的内容中去（此时将以之前设置的默认文本编辑器打开提交信息）：

```
$ git commit
# Please enter the commit message for your changes. Lines starting
# with '#' will be ignored, and an empty message aborts the commit.
#
# On branch master
# Changes to be committed:
#       renamed:    README.md -> README
#
```

这里提供一种简单直接的方式，加入`-m`选项可直接键入提交信息：

```
$ git commit -m 'Add README.md for test'
[master (root-commit) e8365bd] Add README.md for test
 1 file changed, 0 insertions(+), 0 deletions(-)
 create mode 100644 README.md
```

若需修改提交信息，可添加`--amend`选项进入修改提交信息界面，

```
$ git commit --amend

	new file:   README.md

$ git mv README.md README
$ git status .
On branch master
    Add README.md for test
  
    # Please enter the commit message for your changes. Lines starting
    # with '#' will be ignored, and an empty message    aborts the commit.
    #
    # Date:      Sun Aug 26 23:20:13 2018 +0800
    #
    # On branch master
    #
    # Initial commit
    #
    # Changes to be committed:
    #       new file:   README
    #
#比如此处将提交信息改为test：
[master da4604c] test
 Date: Sun Aug 26 23:20:13 2018 +0800
 1 file changed, 0 insertions(+), 0 deletions(-)
 create mode 100644 README
```

8.查看文件修改详细信息

可能你并不满足于`staus`呈现的信息，还想知道修改的具体内容，那么`diff`指令可以为你圆梦：

```
# 在README文件中添加一句话：Test for diff cmd.
$ git diff
diff --git a/README b/README
index e69de29..5b24ac5 100644
--- a/README
+++ b/README
@@ -0,0 +1,2 @@
+Test for diff cmd.
```

若希望知道哪些已暂存的内容将会进入下一次提交，可添加`--staged`选项(同义词`--cached`)查看：

```
$ git diff .
diff --git a/README b/README
index dc774c9..69920be 100644
--- a/README
+++ b/README
@@ -1 +1,2 @@
 Test for staged before.
+Test for staged after.

$ git diff --staged
diff --git a/README b/README
index e69de29..dc774c9 100644
--- a/README
+++ b/README
@@ -0,0 +1 @@
+Test for staged before.
```

9.查看提交记录

如果你想查看之前的提交记录，可通过`log`操作实现：

```
$ git log
commit 6f79f932eea30c32b92d9ee525219f9fb9e65689 (HEAD -> master)
Author: alex <alx@gmail.com>
Date:   Sun Aug 26 21:46:09 2018 +0800
    staged
commit da4604c147f34ecf029b42975a323a8fc6ae26e8
Author: alex <alx@gmail.com>
Date:   Sun Aug 26 21:20:13 2018 +0800
    test
```

`-p`选项: 按补丁格式显示每次提交引入的更改

```
$ git log -p -1
commit 6f79f932eea30c32b92d9ee525219f9fb9e65689 (HEAD -> master)
Author: alex <alex@gmail.com>
Date:   Sun Aug 26 21:46:09 2018 +0800
    staged
diff --git a/README b/README
index e69de29..dc774c9 100644
--- a/README
+++ b/README
@@ -0,0 +1 @@
+Test for staged before.
```

`--stat`选项: 显示每次提交中被更改的文件的统计信息

```
$ git log --stat
commit 6f79f932eea30c32b92d9ee525219f9fb9e65689 (HEAD -> master)
Author: alex <alex@gmail.com>
Date:   Sun Aug 26 21:46:09 2018 +0800
    staged
 README | 1 +
 1 file changed, 1 insertion(+)
```

`--pretty`选项: 可选格式显示提交。可跟oneline, short, full, format

```
$ git log --pretty=oneline
6f79f932eea30c32b92d9ee525219f9fb9e65689 (HEAD -> master) staged
da4604c147f34ecf029b42975a323a8fc6ae26e8 test

$ git log --pretty=format:"%h - %an, %ar : %s"
6f79f93 - alex, 8 minutes ago : staged
da4604c - alex, 34 minutes ago : test
```

`--graph`选项: 提交历史旁显示ASCII图表，标示分支及合并信息

```
$ git log --graph
* commit 6f79f932eea30c32b92d9ee525219f9fb9e65689 (HEAD -> master)
| Author: alex <alex@gmail.com>
| Date:   Sun Aug 26 21:46:09 2018 +0800
|     staged
```

更多扩展选项可通过`git log --help`来查阅。

欲知Git其它操作，请关注下篇介绍。

